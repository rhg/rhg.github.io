<?xml version='1.0' encoding='UTF-8'?>
<rss version='2.0' xmlns:atom='http://www.w3.org/2005/Atom'>
<channel>
<atom:link href='http://rhg.github.io' rel='self' type='application/rss+xml'/>
<title>
tehblog
</title>
<link>
http://rhg.github.io
</link>
<description>
A blog about life and it's sidequests
</description>
<lastBuildDate>
Sun, 23 Aug 2015 17:27:56 -0500
</lastBuildDate>
<generator>
clj-rss
</generator>
<item>
<guid>
http://rhg.github.io/posts/2015-08-23-var-or-fn.html
</guid>
<link>
http://rhg.github.io/posts/2015-08-23-var-or-fn.html
</link>
<title>
What to pass: a Var or IFn?
</title>
<description>
&lt;h2&gt;&lt;a name=&quot;mapping&amp;#95;a&amp;#95;function&amp;#95;over&amp;#95;a&amp;#95;channel&quot;&gt;&lt;/a&gt;Mapping a function over a channel&lt;/h2&gt;&lt;p&gt;You have a function you are developing:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn name-string
  &amp;quot;Gives you the name string from a suitable map&amp;quot;
  &amp;#91;{:keys &amp;#91;first-name&amp;#93;}&amp;#93;
  first-name&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and you want to run this on maps you get over, say, a socket. Thus you shove it up a channel with an attached transducer of &lt;code&gt;&amp;#40;map name-string&amp;#41;&lt;/code&gt; (or with a pipeline of the actual data channel, for the indirection).&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;a&amp;#95;problem&amp;#95;arises&quot;&gt;&lt;/a&gt;A Problem Arises&lt;/h2&gt;&lt;p&gt;Now, you want to incorporate the last name as an initial. Thus:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;defn name-string
  &amp;quot;Gives you a first name with a last name initial&amp;quot;
  &amp;#91;{:keys &amp;#91;first-name last-name&amp;#93;}&amp;#93;
  &amp;#40;str first-name \space &amp;#40;first last-name&amp;#41; &amp;quot;.&amp;quot;&amp;#41;&amp;#41;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But, oh noes! The old definition is still used. Naïvely you would restart the input source (or if you did use indirection, point it to a new channel). There is a better way, for development purposes. This does incur a small overhead and allows a feature which may be a security hole in production.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;what&amp;#95;is&amp;#95;&lt;code&gt;a-function&lt;/code&gt;&quot;&gt;&lt;/a&gt;What is &lt;code&gt;a-function&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;This will resolve at compile time to the current value of the var named by the symbol (or just the value bound to it if a local). This is usually an IFn instance if it's a function. This works fine and dandy in a language with no runtime definitions—&lt;em&gt;cough&lt;/em&gt; java &lt;em&gt;cough&lt;/em&gt;—but it falls flat when used in a dynamic language. It is consistent and logical, unfortunately it does sometimes surprise people when redefinitions do nothing.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;what&amp;#95;is&amp;#95;&lt;code&gt;#'a-function&lt;/code&gt;&quot;&gt;&lt;/a&gt;What Is &lt;code&gt;#'a-function&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;At read time this will turn to &lt;code&gt;&amp;#40;var a-function&amp;#41;&lt;/code&gt;. At runtime it evaluates to a &lt;code&gt;clojure.lang.Var&lt;/code&gt; object if a-function is a global. The meta-magic here is that &lt;code&gt;Var&lt;/code&gt; implements &lt;code&gt;IFn&lt;/code&gt;, and if it's a var for a function, invoking the var will invoke the function the var currently points at. I can hear thosee of you saying &quot;that's a reference,&quot; and you are indeed correctish. &lt;code&gt;Var&lt;/code&gt;s are one in the sense they allow mutability, but they also don't allow much else. You can also change the root binding atomically (I think), and if it is marked dynamic (by having &lt;code&gt;:dynamic&lt;/code&gt; &lt;code&gt;true&lt;/code&gt; in the metadata) you can change the current thread binding for a function call.&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;just&amp;#95;show&amp;#95;me&amp;#95;the&amp;#95;codes!&quot;&gt;&lt;/a&gt;Just Show Me The Codes!&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;&amp;#40;require '&amp;#91;clojure.core.async :as a&amp;#93;&amp;#41;
;=&amp;gt; nil

&amp;#40;defn my-char
  &amp;#91;x&amp;#93;
  &amp;#40;char x&amp;#41;&amp;#41;
;=&amp;gt; #'user/my-char

&amp;#40;def ch &amp;#40;a/chan 1 &amp;#40;map my-char&amp;#41;&amp;#41;&amp;#41;
;=&amp;gt; #'user/ch

&amp;#40;a/&amp;gt;!! ch 97&amp;#41;
;=&amp;gt; true

&amp;#40;a/&amp;lt;!! ch&amp;#41;
;=&amp;gt; \a

; now let's redefine our function

&amp;#40;alter-var-root #'my-char comp inc&amp;#41;

; now it incs the number before turning it to a character

&amp;#40;a/&amp;gt;!! ch 97&amp;#41;
;=&amp;gt; true

&amp;#40;= \b &amp;#40;a/&amp;lt;!! ch&amp;#41;&amp;#41;
;=&amp;gt; false

; oh noez! press the panic button!

; or do this when creating the channel

&amp;#40;defn my-char
  &amp;#91;x&amp;#93;
  &amp;#40;char x&amp;#41;&amp;#41;
;=&amp;gt; #'user/my-char

&amp;#40;def ch &amp;#40;a/chan 1 &amp;#40;map #'my-char&amp;#41;&amp;#41;&amp;#41;
;=&amp;gt; user/ch

&amp;#40;a/&amp;gt;!! ch 97&amp;#41;
;=&amp;gt; true

&amp;#40;= \a &amp;#40;a/&amp;lt;!! ch&amp;#41;&amp;#41;
;=&amp;gt; true

&amp;#40;alter-var-root #'my-char comp inc&amp;#41;
;=&amp;gt; an instance of IFn

&amp;#40;a/&amp;gt;!! ch 97&amp;#41;
;=&amp;gt; true

&amp;#40;= \b &amp;#40;a/&amp;lt;!! ch&amp;#41;&amp;#41;
;=&amp;gt; true

; yay!
&lt;/code&gt;&lt;/pre&gt;
</description>
<pubDate>
Sun, 23 Aug 2015 00:00:00 -0500
</pubDate>
</item>
<item>
<guid>
http://rhg.github.io/posts/2015-08-22-on-licensing.html
</guid>
<link>
http://rhg.github.io/posts/2015-08-22-on-licensing.html
</link>
<title>
On Licensing
</title>
<description>
&lt;h3&gt;&lt;a name=&quot;what&amp;#95;about&amp;#95;it?&quot;&gt;&lt;/a&gt;What about it?&lt;/h3&gt;&lt;p&gt;Copyright is &lt;strong&gt;broken&lt;/strong&gt;. The whole concept of controlling copying of a resource is just not viable, and furthermore erronous. To me it is reminiscent of censorship, and we all know how well that works.&lt;/p&gt;&lt;p&gt;Lately I have been releasing any works to the public domain. Before discussing why, let's examine this &quot;copyright&quot; thing.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;what&amp;#95;got&amp;#95;me&amp;#95;thinking&amp;#95;about&amp;#95;this&quot;&gt;&lt;/a&gt;What got me thinking about this&lt;/h3&gt;&lt;p&gt;I don't recall what exactly was being looked for when I saw a project on github with an &lt;code&gt;UNLICENSE&lt;/code&gt; file. Initially I payed no mind to this and I went on my way. Little did I know of the reagent I had encountered.&lt;/p&gt;&lt;p&gt;A few days later—presumably because I was about to release a chunk of code—I began to wonder why we could just copy certain works, yet most code had to be attributed—in the best case—or bought. I suddenly remembered the &lt;a href='http://unlicense.org'&gt;link&lt;/a&gt; at the bottom of that &lt;code&gt;UNLICENSE&lt;/code&gt;. I read a bit and although I don't agree with it completely, I began to question why copyright exists.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;why&amp;#95;copyright&quot;&gt;&lt;/a&gt;Why copyright&lt;/h3&gt;&lt;p&gt;I'm not going to rehash all of &lt;a href='http://lmgtfy.com?q=the+history+of+copyright'&gt;the history of copyright&lt;/a&gt;, just look at reasons people commonly cite for copyright.&lt;/p&gt;&lt;h4&gt;&lt;a name=&quot;credit/attribution&quot;&gt;&lt;/a&gt;Credit/Attribution&lt;/h4&gt;&lt;p&gt;This is—quite possibly—the most common excuse for copyright I've seen. Manifests in common Creative Commons licences for art and in BSD type licenses for code. I fail to see how this would not work, but it is incredibly heavy handed and inpractical.&lt;/p&gt;&lt;p&gt;Many circles already have a name for this called &lt;code&gt;plagiarism&lt;/code&gt;. &lt;a href='http://www.merriam-webster.com/dictionary/plagiarism'&gt;Merriam-Webster&lt;/a&gt; defines this as &quot;the act of using another person's words or ideas without giving credit to that person&quot;. In academia this is a very a serious offense. Just ask any of the many students expelled for it. In other circles it is also considered common curtesy. In light of this, is applying law to the problem of plagiarism a proper aid?&lt;/p&gt;&lt;p&gt;And what happens when your works are plagiarized? If you did not place copyright on it, nothing (assuming plagiarism is fine). If you did, either you sue or you let the law be broken. Assuming you're not a sadist, I doubt you'll do the former. If a law is meant to be broken, then what's the point of said law?&lt;/p&gt;&lt;h4&gt;&lt;a name=&quot;control&quot;&gt;&lt;/a&gt;Control&lt;/h4&gt;&lt;p&gt;This is not quite as common, but still a reason. I am guilty of this one too. The aim is to maintain control on a project, and this is pretty close to an actual reason.&lt;/p&gt;&lt;p&gt;Usually achieved partially via closed source in software and strict licensing in art. Not being an artist I can't say how it is managed; so I will seek code. Two related project I am slightly familiar with and have vastly different approaches to this would be &lt;a href='http://clojure.org'&gt;clojure&lt;/a&gt; and &lt;a href='http://datomic.com'&gt;datomic&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Clojure is under the EPL 1.0 which actually allows forks. Many forks actually do exist, &lt;a href='http://kiwiirc.com/client/irc.freenode.com/#clojure'&gt;#clojure&lt;/a&gt; on freenode, the &lt;a href='http://groups.google.com/group/clojure'&gt;mailing lists&lt;/a&gt; and other sources do a decent job of reminding people of the downsides of using forks. So while you're welcome to run your own forks, the community at large tries hard to use the canonical implementation. The way this is implemented on the &lt;a href='http://openjdk.java.net'&gt;JVM&lt;/a&gt; makes it rather easy to swap the implementation of clojure at launch. This is very useful for testing new features before inclusion in the upstream code.&lt;/p&gt;&lt;p&gt;Datomic on the other hand is not open source and has a custom EULA. This establishes control firmly for Cognitect at the expense of customization for users. As datomic is enterprise software—and relatively small—this could be a fair trade-off. And considering datomic was made after clojure it is plausible that the EPL-shaded picture I painted previously isn't as well-made as I think.&lt;/p&gt;&lt;h4&gt;&lt;a name=&quot;monetary&amp;#95;endowement&quot;&gt;&lt;/a&gt;Monetary Endowement&lt;/h4&gt;&lt;p&gt;I would have to claim pure greed for this, but that's my opinion and don't care much.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;why&amp;#95;&lt;strong&gt;&lt;i&gt;i&lt;/i&gt;&lt;/strong&gt;&amp;#95;avoid&amp;#95;it&quot;&gt;&lt;/a&gt;Why &lt;strong&gt;&lt;i&gt;I&lt;/i&gt;&lt;/strong&gt; avoid it&lt;/h3&gt;&lt;p&gt;I feel as I received for free what little skill I have and it is very fitting for me to give it freely. Not just me, but I feel everyone should do the same as they all received in the same manner. I do not pretend to have any such ability to force anyone, and furthermore I do not think it'd be right to. Therefore I hope that by doing this I can set yet another example for any other content creator out there.&lt;/p&gt;&lt;p&gt;I may not be very creative, or even well-endowed in programming, but darn it if I'm not going to share what I do create!&lt;/p&gt;
</description>
<pubDate>
Sat, 22 Aug 2015 00:00:00 -0500
</pubDate>
</item>
<item>
<guid>
http://rhg.github.io/posts/2015-08-21-i-made-post.html
</guid>
<link>
http://rhg.github.io/posts/2015-08-21-i-made-post.html
</link>
<title>
Look ma! I made post!
</title>
<description>
&lt;h3&gt;&lt;a name=&quot;so,&amp;#95;i&amp;#95;have&amp;#95;a&amp;#95;blog.&quot;&gt;&lt;/a&gt;So, I have a blog.&lt;/h3&gt;&lt;p&gt;For a long time I pondered it, but never acted. Today a switch in my head finally flipped, and I became allowed to start writing; and more than that, setting up the infrastructure.&lt;/p&gt;&lt;p&gt;Fortunately—for me—my blog engine—&lt;a href='http://cryogenweb.org/'&gt;cryogen&lt;/a&gt;—was very easy to set-up and soon I was producing. Cryogen is distributed as a template for &lt;a href='http://leiningen.org'&gt;leiningen&lt;/a&gt;, and this made it easy to get started. For more details see the homepage for cryogen.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;what&amp;#95;to&amp;#95;expect&quot;&gt;&lt;/a&gt;What to expect&lt;/h3&gt;&lt;p&gt;Plenty of mistakes—as I do not proofread my posts—and relatively short posts—being neither very interesting or public. A few surprises get forced in for good measure too.&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;my&amp;#95;only&amp;#95;request—for&amp;#95;now.&quot;&gt;&lt;/a&gt;My only request—for now.&lt;/h3&gt;&lt;p&gt;I need feedback. It's lonely over here, and I need guidance. I disabled disqus because &lt;del&gt;it is—unfortunately—prone to spam&lt;/del&gt; I don't like it. As such I have a &lt;a href='/pages/contact-me.html'&gt;Contact Me&lt;/a&gt; link in the sidebar, and a embedded irc client under the posts on the site.&lt;/p&gt;
</description>
<pubDate>
Fri, 21 Aug 2015 00:00:00 -0500
</pubDate>
</item>
</channel>
</rss>
